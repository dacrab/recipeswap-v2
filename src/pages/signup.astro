---
import Layout from '../layouts/Layout.astro';
import SignupForm from '../components/SignupForm';
import { auth } from "../lib/auth";

const session = await auth.api.getSession({
    headers: Astro.request.headers
});

if (session) {
    return Astro.redirect("/dashboard");
}
---

<Layout>
    <main class="min-h-screen grid lg:grid-cols-2">
        <div class="hidden lg:flex flex-col justify-between p-12 accent-panel relative overflow-hidden">
            <div class="absolute inset-0 bg-[radial-gradient(circle_at_30%_30%,rgba(230,126,34,0.05),transparent)]"></div>
            <a href="/" class="text-2xl font-serif italic tracking-tighter relative z-10 text-brand-text">RecipeSwap</a>
            
            <div class="relative z-10">
                <blockquote class="text-4xl font-serif italic leading-tight mb-6 text-brand-text">
                    "Anyone can cook, but only the fearless can be great."
                </blockquote>
                <cite class="text-sm font-bold uppercase tracking-widest text-brand-primary not-italic">
                    â€” Chef Gusteau
                </cite>
            </div>

            <div class="text-[10px] font-bold uppercase tracking-[0.3em] text-brand-primary/40 relative z-10">
                Join the Movement &bull; Est. 2025
            </div>
        </div>

        <div class="flex items-center justify-center p-6 bg-brand-bg">
            <div class="w-full max-w-sm">
                <div class="lg:hidden mb-12 text-center">
                    <a href="/" class="text-3xl font-serif italic tracking-tighter text-brand-text">RecipeSwap</a>
                </div>
                <SignupForm client:load />
            </div>
        </div>
    </main>
</Layout>
